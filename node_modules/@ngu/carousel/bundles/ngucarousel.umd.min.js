!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/common"),require("@angular/core")):"function"==typeof define&&define.amd?define(["exports","@angular/common","@angular/core"],e):e((t.ng=t.ng||{},t.ng.ngucarousel=t.ng.ngucarousel||{}),t.ng.common,t.ng.core)}(this,function(t,e,i){"use strict";var s=function(){function t(){}return t.decorators=[{type:i.Directive,args:[{selector:"[NguCarouselItem]"}]}],t.ctorParameters=function(){return[]},t}(),a=function(){function t(){}return t.decorators=[{type:i.Directive,args:[{selector:"[NguCarouselNext]"}]}],t.ctorParameters=function(){return[]},t}(),n=function(){function t(){}return t.decorators=[{type:i.Directive,args:[{selector:"[NguCarouselPrev]"}]}],t.ctorParameters=function(){return[]},t}(),r=function(){function t(){}return t.decorators=[{type:i.Directive,args:[{selector:"[NguCarouselPoint]"}]}],t.ctorParameters=function(){return[]},t}(),o=function(){function t(t,e,s){this.el=t,this.renderer=e,this.platformId=s,this.withAnim=!0,this.isHovered=!1,this.carouselLoad=new i.EventEmitter,this.onMove=new i.EventEmitter,this.pauseCarousel=!1,this.Arr1=Array,this.pointNumbers=[],this.data={type:"fixed",token:"",deviceType:"lg",items:0,load:0,deviceWidth:0,carouselWidth:0,itemWidth:0,visibleItems:{start:0,end:0},slideItems:0,itemWidthPer:0,itemLength:0,currentSlide:0,easing:"cubic-bezier(0, 0, 0.2, 1)",speed:400,transform:{xs:0,sm:0,md:0,lg:0,all:0},loop:!1,dexVal:0,touchTransform:0,touch:{active:!1,swipe:"",velocity:0},isEnd:!1,isFirst:!0,isLast:!1,RTL:!1,button:{visibility:"disabled"},point:!0,vertical:{enabled:!1,height:400},velocity:1}}return t.prototype.ngOnInit=function(){},t.prototype.inputValidation=function(){this.data.type=0!==this.userData.grid.all?"fixed":"responsive",this.data.loop=this.userData.loop||!1,this.userData.easing=this.userData.easing||"cubic-bezier(0, 0, 0.2, 1)",this.data.touch.active=this.userData.touch||!1,this.data.RTL=!!this.userData.RTL,this.data.interval=this.userData.interval||null,this.data.velocity=this.userData.velocity||this.data.velocity,this.userData.vertical&&this.userData.vertical.enabled&&(this.data.vertical.enabled=this.userData.vertical.enabled,this.data.vertical.height=this.userData.vertical.height),this.directionSym=this.data.RTL?"":"-",this.data.point=!this.userData.point||void 0===this.userData.point.visible||this.userData.point.visible,this.carouselSize()},t.prototype.ngAfterViewInit=function(){var t=this;this.carousel=this.el.nativeElement,this.carouselMain=this.carouselMain1.nativeElement,this.carouselInner=this.carouselInner1.nativeElement,this.rightBtn=this.next.nativeElement,this.leftBtn=this.prev.nativeElement,this.inputValidation(),this.listener1=this.renderer.listen(this.leftBtn,"click",function(){return t.carouselScrollOne(0)}),this.listener2=this.renderer.listen(this.rightBtn,"click",function(){return t.carouselScrollOne(1)}),this.carouselCssNode=this.createStyleElem(),this.buttonControl(),e.isPlatformBrowser(this.platformId)&&(this.carouselInterval(),this.onWindowScrolling(),this.data.vertical.enabled||this.touch(),this.listener3=this.renderer.listen("window","resize",function(e){t.onResizing(e)}))},t.prototype.ngAfterContentInit=function(){var t=this;this.items.changes.subscribe(function(e){t.data.isLast=!1,t.carouselPoint(),t.buttonControl()})},t.prototype.ngOnDestroy=function(){clearInterval(this.carouselInt),this.carouselLoad.complete(),this.onMove.complete(),this.listener1&&this.listener1(),this.listener2&&this.listener2(),this.listener3&&this.listener3(),this.listener4&&this.listener4(),this.listener5&&this.listener5(),this.listener6&&this.listener6(),this.listener7&&this.listener7(),this.listener8&&this.listener8()},t.prototype.onResizing=function(t){var e=this;clearTimeout(this.onResize),this.onResize=setTimeout(function(){e.data.deviceWidth!==t.target.outerWidth&&(e.setStyle(e.carouselInner,"transition",""),e.storeCarouselData())},500)},t.prototype.touch=function(){var t=this;if(this.userData.touch){var e=new Hammer(this.carouselInner);e.get("pan").set({direction:Hammer.DIRECTION_HORIZONTAL}),e.on("panstart",function(e){t.data.carouselWidth=t.carouselInner.offsetWidth,t.data.touchTransform=t.data.transform[t.data.deviceType],t.data.dexVal=0,t.setStyle(t.carouselInner,"transition","")}),this.data.vertical.enabled?(e.on("panup",function(e){t.touchHandling("panleft",e)}),e.on("pandown",function(e){t.touchHandling("panright",e)})):(e.on("panleft",function(e){t.touchHandling("panleft",e)}),e.on("panright",function(e){t.touchHandling("panright",e)})),e.on("panend",function(e){if(Math.abs(e.velocity)>t.data.velocity){t.data.touch.velocity=e.velocity;var i=0;i=t.data.RTL?"panright"===t.data.touch.swipe?1:0:"panright"===t.data.touch.swipe?0:1,t.carouselScrollOne(i)}else t.data.dexVal=0,t.setStyle(t.carouselInner,"transition","transform 324ms cubic-bezier(0, 0, 0.2, 1)"),t.setStyle(t.carouselInner,"transform","")}),e.on("hammer.input",function(t){t.srcEvent.stopPropagation()})}},t.prototype.touchHandling=function(t,e){if(0!==e.center.x){var i=(e=Math.abs(this.data.vertical.enabled?e.deltaY:e.deltaX))-this.data.dexVal;i="responsive"===this.data.type?Math.abs(e-this.data.dexVal)/(this.data.vertical.enabled?this.data.vertical.height:this.data.carouselWidth)*100:i,this.data.dexVal=e,this.data.touch.swipe=t,this.setTouchTransfrom(t,i),this.setTransformFromTouch()}},t.prototype.setTouchTransfrom=function(t,e){var i=this.data.RTL?"panright":"panleft";this.data.touchTransform=t===i?e+this.data.touchTransform:this.data.touchTransform-e},t.prototype.setTransformFromTouch=function(){this.data.touchTransform<0&&(this.data.touchTransform=0);var t="responsive"===this.data.type?"%":"px";this.setStyle(this.carouselInner,"transform",this.data.vertical.enabled?"translate3d(0, "+this.directionSym+this.data.touchTransform+t+", 0)":"translate3d("+this.directionSym+this.data.touchTransform+t+", 0, 0)")},t.prototype.onWindowScrolling=function(){var t=this.carousel.offsetTop,e=window.scrollY,i=window.innerHeight,s=this.carousel.offsetHeight;t<=e+i-s/4&&t+s/2>=e?this.carouselIntervalEvent(0):this.carouselIntervalEvent(1)},t.prototype.storeCarouselData=function(){this.data.deviceWidth=e.isPlatformBrowser(this.platformId)?window.innerWidth:1200,this.data.carouselWidth=this.carouselMain.offsetWidth,"responsive"===this.data.type?(this.data.deviceType=this.data.deviceWidth>=1200?"lg":this.data.deviceWidth>=992?"md":this.data.deviceWidth>=768?"sm":"xs",this.data.items=this.userData.grid[this.data.deviceType],this.data.itemWidth=this.data.carouselWidth/this.data.items):(this.data.items=Math.trunc(this.data.carouselWidth/this.userData.grid.all),this.data.itemWidth=this.userData.grid.all,this.data.deviceType="all"),this.data.slideItems=+(this.userData.slide<this.data.items?this.userData.slide:this.data.items),this.data.load=this.userData.load>=this.data.slideItems?this.userData.load:this.data.slideItems,this.userData.speed=this.userData.speed||this.userData.speed>-1?this.userData.speed:400,this.carouselPoint()},t.prototype.reset=function(t){t&&(this.withAnim=!1),this.carouselCssNode.innerHTML="",this.moveTo(1),this.carouselPoint()},t.prototype.carouselPoint=function(){var t=this.items.length-(this.data.items-this.data.slideItems);this.pointIndex=Math.ceil(t/this.data.slideItems);var e=[];if(this.pointIndex>1||!this.userData.point.hideOnSingleSlide)for(var i=0;i<this.pointIndex;i++)e.push(i);this.pointNumbers=e,this.carouselPointActiver(),this.pointIndex<=1?this.btnBoolean(1,1):0!==this.data.currentSlide||this.data.loop?this.btnBoolean(0,0):this.btnBoolean(1,0),this.buttonControl()},t.prototype.carouselPointActiver=function(){var t=Math.ceil(this.data.currentSlide/this.data.slideItems);this.activeSlide=t},t.prototype.moveTo=function(t,e){if(e&&(this.withAnim=!1),this.activeSlide!==t&&t<this.pointIndex){var i=void 0,s=this.data.currentSlide<t?1:0;switch(t){case 0:this.btnBoolean(1,0),i=t*this.data.slideItems;break;case this.pointIndex-1:this.btnBoolean(0,1),i=this.items.length-this.data.items;break;default:this.btnBoolean(0,0),i=t*this.data.slideItems}this.carouselScrollTwo(s,i,this.data.speed)}},t.prototype.carouselSize=function(){this.data.token=this.generateID();var t="";this.styleid="."+this.data.token+" > .ngucarousel > .ngucarousel-items","banner"===this.userData.custom&&this.renderer.addClass(this.carousel,"banner"),"lazy"===this.userData.animation&&(t+=this.styleid+" > .item {transition: transform .6s ease;}");var e="";if(this.data.vertical.enabled)e="@media (max-width:767px){"+(this.styleid+" > .item {height: "+this.data.vertical.height/+this.userData.grid.xs+"px}")+"}\n                    @media (min-width:768px){"+(this.styleid+" > .item {height: "+this.data.vertical.height/+this.userData.grid.sm+"px}")+"}\n                    @media (min-width:992px){"+(this.styleid+" > .item {height: "+this.data.vertical.height/+this.userData.grid.md+"px}")+"}\n                    @media (min-width:1200px){"+(this.styleid+" > .item {height: "+this.data.vertical.height/+this.userData.grid.lg+"px}")+"}";else if("responsive"===this.data.type){e="@media (max-width:767px){"+("mobile"===this.userData.type?this.styleid+" .item {flex: 0 0 "+95/+this.userData.grid.xs+"%}":this.styleid+" .item {flex: 0 0 "+100/+this.userData.grid.xs+"%}")+"}\n                    @media (min-width:768px){"+(this.styleid+" > .item {flex: 0 0 "+100/+this.userData.grid.sm+"%}")+"}\n                    @media (min-width:992px){"+(this.styleid+" > .item {flex: 0 0 "+100/+this.userData.grid.md+"%}")+"}\n                    @media (min-width:1200px){"+(this.styleid+" > .item {flex: 0 0 "+100/+this.userData.grid.lg+"%}")+"}"}else e=this.styleid+" .item {flex: 0 0 "+this.userData.grid.all+"px}";this.renderer.addClass(this.carousel,this.data.token),this.data.vertical.enabled&&(this.renderer.addClass(this.carouselInner,"nguvertical"),this.renderer.setStyle(this.carouselMain,"height",this.data.vertical.height+"px")),this.data.RTL&&!this.data.vertical.enabled&&this.renderer.addClass(this.carousel,"ngurtl"),this.createStyleElem(t+" "+e),this.storeCarouselData()},t.prototype.carouselScrollOne=function(t){var e=this.data.speed,i=0,s=Math.ceil(this.data.dexVal/this.data.itemWidth);if(this.setStyle(this.carouselInner,"transform",""),1!==this.pointIndex)if(0!==t||(this.data.loop||this.data.isFirst)&&!this.data.loop)1!==t||(this.data.loop||this.data.isLast)&&!this.data.loop||(this.items.length<=this.data.currentSlide+this.data.items+this.data.slideItems&&!this.data.isLast?(i=this.items.length-this.data.items,this.btnBoolean(0,1)):this.data.isLast?(i=0,e=400,this.btnBoolean(1,0)):(this.btnBoolean(0,0),s>this.data.slideItems?(i=this.data.currentSlide+this.data.slideItems+(s-this.data.slideItems),e=200):i=this.data.currentSlide+this.data.slideItems),this.carouselScrollTwo(t,i,e));else{this.data.slideItems,this.pointIndex;var a=this.data.currentSlide-this.data.slideItems+this.data.slideItems;this.btnBoolean(0,1),0===this.data.currentSlide?(i=this.items.length-this.data.items,e=400,this.btnBoolean(0,1)):this.data.slideItems>=a?(i=0,this.btnBoolean(1,0)):(this.btnBoolean(0,0),s>this.data.slideItems?(i=this.data.currentSlide-s,e=200):i=this.data.currentSlide-this.data.slideItems),this.carouselScrollTwo(t,i,e)}},t.prototype.carouselScrollTwo=function(t,e,i){if(0!==this.data.dexVal){var s=Math.abs(this.data.touch.velocity),a=Math.floor(this.data.dexVal/s/this.data.dexVal*(this.data.deviceWidth-this.data.dexVal));i=(a=a>i?i:a)<200?200:a,this.data.dexVal=0}this.withAnim?(this.setStyle(this.carouselInner,"transition","transform "+i+"ms "+this.userData.easing),this.userData.animation&&this.carouselAnimator(t,e+1,e+this.data.items,i,Math.abs(this.data.currentSlide-e))):this.setStyle(this.carouselInner,"transition",""),this.data.itemLength=this.items.length,this.transformStyle(e),this.data.currentSlide=e,this.onMove.emit(this.data),this.carouselPointActiver(),this.carouselLoadTrigger(),this.buttonControl(),this.withAnim=!0},t.prototype.btnBoolean=function(t,e){this.data.isFirst=!!t,this.data.isLast=!!e},t.prototype.transformString=function(t,e){var i="";return i+=this.styleid+" { transform: translate3d(",this.data.vertical.enabled?(this.data.transform[t]=this.data.vertical.height/this.userData.grid[t]*e,i+="0, -"+this.data.transform[t]+"px, 0"):(this.data.transform[t]=100/this.userData.grid[t]*e,i+=""+this.directionSym+this.data.transform[t]+"%, 0, 0"),i+="); }"},t.prototype.transformStyle=function(t){var e="";"responsive"===this.data.type?e="@media (max-width: 767px) {"+this.transformString("xs",t)+"}\n      @media (min-width: 768px) {"+this.transformString("sm",t)+" }\n      @media (min-width: 992px) {"+this.transformString("md",t)+" }\n      @media (min-width: 1200px) {"+this.transformString("lg",t)+" }":(this.data.transform.all=this.userData.grid.all*t,e=this.styleid+" { transform: translate3d("+this.directionSym+this.data.transform.all+"px, 0, 0);"),this.carouselCssNode.innerHTML=e},t.prototype.carouselLoadTrigger=function(){"number"==typeof this.userData.load&&this.items.length-this.data.load<=this.data.currentSlide+this.data.items&&this.carouselLoad.emit(this.data.currentSlide)},t.prototype.generateID=function(){for(var t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<6;i++)t+=e.charAt(Math.floor(Math.random()*e.length));return"ngucarousel"+t},t.prototype.carouselInterval=function(){var t=this;this.data.interval&&this.data.loop&&(this.listener4=this.renderer.listen(this.carouselMain,"touchstart",function(){t.carouselIntervalEvent(1)}),this.listener5=this.renderer.listen(this.carouselMain,"touchend",function(){t.carouselIntervalEvent(0)}),this.listener6=this.renderer.listen(this.carouselMain,"mouseenter",function(){t.carouselIntervalEvent(1),t.isHovered=!0}),this.listener7=this.renderer.listen(this.carouselMain,"mouseleave",function(){t.carouselIntervalEvent(0),t.isHovered=!1}),this.listener8=this.renderer.listen("window","scroll",function(){clearTimeout(t.onScrolling),t.onScrolling=setTimeout(function(){t.onWindowScrolling()},600)}),setTimeout(function(){t.carouselInt=setInterval(function(){!t.pauseCarousel&&t.carouselScrollOne(1)},t.userData.interval.timing)},this.data.interval.initialDelay))},t.prototype.carouselIntervalEvent=function(t){var e=this;this.evtValue=t,0===this.evtValue?(clearTimeout(this.pauseInterval),this.pauseInterval=setTimeout(function(){0===e.evtValue&&(e.pauseCarousel=!1)},this.userData.interval)):this.pauseCarousel=!0},t.prototype.carouselAnimator=function(t,e,i,s,a){var n=this,r=a<5?a:5;r=1===r?3:r;var o=this.items.toArray();if(1===t)for(var l=e-1;l<i;l++)r*=2,o[l]&&this.setStyle(o[l].nativeElement,"transform","translate3d("+r+"px, 0, 0)");else for(l=i-1;l>=e-1;l--)r*=2,o[l]&&this.setStyle(o[l].nativeElement,"transform","translate3d(-"+r+"px, 0, 0)");setTimeout(function(){n.items.forEach(function(t){return n.setStyle(t.nativeElement,"transform","translate3d(0, 0, 0)")})},.7*s)},t.prototype.buttonControl=function(){var t=[];t=!this.data.loop||this.data.isFirst&&this.data.isLast?[this.data.isFirst?"none":"block",this.data.isLast?"none":"block"]:["block","block"],this.setStyle(this.leftBtn,"display",t[0]),this.setStyle(this.rightBtn,"display",t[1])},t.prototype.setStyle=function(t,e,i){this.renderer.setStyle(t,e,i)},t.prototype.createStyleElem=function(t){var e=this.renderer.createElement("style");if(t){var i=this.renderer.createText(t);this.renderer.appendChild(e,i)}return this.renderer.appendChild(this.carousel,e),e},t.decorators=[{type:i.Component,args:[{selector:"ngu-carousel",template:'<div #ngucarousel class="ngucarousel"><div #nguitems class="ngucarousel-items"><ng-content select="[NguCarouselItem]"></ng-content></div><div class="nguclearFix"></div><ng-content select="[NguCarouselPrev]"></ng-content><ng-content select="[NguCarouselNext]"></ng-content></div><ng-content select="[NguCarouselPoint]"></ng-content>',styles:["\n  :host {\n    display: block;\n    position: relative;\n  }\n  :host.ngurtl {\n      direction: rtl;\n  }\n  .ngucarousel {\n    position: relative;\n    overflow: hidden;\n    height: 100%;\n  }\n  .ngucarousel .ngucarousel-items {\n      position: relative;\n      display: flex;\n      height: 100%;\n  }\n  .nguvertical {\n    flex-direction: column;\n  }\n  .nguclearFix {\n    clear: both;\n  }\n  "],changeDetection:i.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:i.ElementRef},{type:i.Renderer2},{type:Object,decorators:[{type:i.Inject,args:[i.PLATFORM_ID]}]}]},t.propDecorators={userData:[{type:i.Input,args:["inputs"]}],reseter:[{type:i.Input,args:["reset"]}],carouselLoad:[{type:i.Output,args:["carouselLoad"]}],onMove:[{type:i.Output,args:["onMove"]}],items:[{type:i.ContentChildren,args:[s,{read:i.ElementRef}]}],next:[{type:i.ContentChild,args:[a,{read:i.ElementRef}]}],prev:[{type:i.ContentChild,args:[n,{read:i.ElementRef}]}],carouselMain1:[{type:i.ViewChild,args:["ngucarousel",{read:i.ElementRef}]}],carouselInner1:[{type:i.ViewChild,args:["nguitems",{read:i.ElementRef}]}],carousel1:[{type:i.ViewChild,args:["main",{read:i.ElementRef}]}]},t}(),l=function(){function t(){this.classes=!0}return t.decorators=[{type:i.Component,args:[{selector:"ngu-item",template:"<ng-content></ng-content>",styles:["\n    :host {\n        display: inline-block;\n        white-space: initial;\n        vertical-align: top;\n    }\n  "]}]}],t.ctorParameters=function(){return[]},t.propDecorators={classes:[{type:i.HostBinding,args:["class.item"]}]},t}(),h=function(){function t(){this.classes=!0}return t.decorators=[{type:i.Component,args:[{selector:"ngu-tile",template:'<div class="tile"><ng-content></ng-content></div>',styles:["\n    :host {\n        display: inline-block;\n        white-space: initial;\n        padding: 10px;\n        box-sizing: border-box;\n        vertical-align: top;\n    }\n\n    .tile {\n        box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);\n    }\n\n    * {\n        box-sizing: border-box;\n    }\n  "]}]}],t.ctorParameters=function(){return[]},t.propDecorators={classes:[{type:i.HostBinding,args:["class.item"]}]},t}(),d=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{imports:[e.CommonModule],exports:[o,l,h,r,s,a,n],declarations:[o,l,h,r,s,a,n]}]}],t.ctorParameters=function(){return[]},t}(),c=function(){return function(){}}(),u=function(){return function(){}}();t.NguCarousel=o,t.NguCarouselModule=d,t.NguCarouselConfig=u,t.NguCarouselStore=c,Object.defineProperty(t,"__esModule",{value:!0})});